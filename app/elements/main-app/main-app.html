<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- Iron elements -->
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-selector/iron-selector.html">

<!-- Paper elements -->
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="../../bower_components/carbon-route/carbon-route.html">


<link rel="import" href="../../styles/app-theme.html">
<link rel="import" href="../list-sets/list-sets.html">
<link rel="import" href="../list-parts/list-parts.html">
<link rel="import" href="../show-set/show-set.html">
<link rel="import" href="../manage-moc-parts/manage-moc-parts.html">

<dom-module id="main-app">
  <template>
    <style include="shared-styles">
    </style>
    <carbon-route route="{{route}}"
      pattern="/app/sets/:setListId"
      data="{{_setsData}}"
      active="{{_setsActive}}">
    </carbon-route>

    <carbon-route route="{{route}}"
      pattern="/app/parts/:partListId"
      data="{{_partsData}}"
      active="{{_partsActive}}">
    </carbon-route>

    <carbon-route route="{{route}}"
      pattern="/app/set/:setId"
      data="{{_setData}}"
      active="{{_setActive}}">
    </carbon-route>

    <carbon-route route="{{route}}"
      pattern="/app/manage-moc-parts"
      active="{{_manageMocPartsActive}}">
    </carbon-route>

    <iron-pages attr-for-selected="data-route" selected="{{page}}">
      <section data-route="sets" tabindex="-1">
        <list-sets set-list-id="{{_setsData.setListId}}" tabs-to-show="{{tabsToShow}}" showing="{{_setsActive}}" user-hash="{{userHash}}" route="{{route}}"></list-sets>
      </section>

      <section data-route="parts" tabindex="-1">
        <list-parts part-list-id="{{_partsData.partListId}}" tabs-to-show="{{tabsToShow}}" showing="{{_partsActive}}" user-hash="{{userHash}}"  route="{{route}}"></list-parts>
      </section>

      <section data-route="set" tabindex="-1">
        <show-set showing="{{_setActive}}"  tabs-to-show="{{tabsToShow}}" user-hash="{{userHash}}" set-id="{{_setData.setId}}"  route="{{route}}"></show-set>
      </section>

      <section data-route="manage-moc-parts" tabindex="-1">
        <manage-moc-parts showing="{{_manageMocPartsActive}}" tabs-to-show="{{tabsToShow}}" user-hash="{{userHash}}"  route="{{route}}"> </manage-moc-parts>
      </section>

    </iron-pages>

  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'main-app',

        properties: {
          route: {
            type: String,
          },

          page: {
            type: String,
          },

          userHash: {
            type: String,
          },

          tabsToShow:{
            type: Array,
            notify: true,
          }

        },
      });
    })();
  </script>
</dom-module>
